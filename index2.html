<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Billing Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .food-item {
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            background: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
        }
        #billPreview {
            background: white;
            padding: 15px;
            border-radius: 5px;
            display: none;
        }
    </style>
</head>
<body>
    
    <nav class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Food Billing Dashboard</a>
        </div>
    </nav>
    
    <div class="container mt-4">
        <div class="row">
            
            <div class="col-md-6">
                <h4>Billing Section</h4>
                <div id="cart" class="mb-3"></div>
                <h5>Total: $<span id="total">0</span></h5>
                <button class="btn btn-primary" onclick="previewBill()">Preview Bill</button>
                <button class="btn btn-success" onclick="generatePDF()">Download PDF</button>
                
                <div id="billPreview" class="mt-3">
                    <h5>Bill Preview</h5>
                    <p id="billDetails"></p>
                </div>
            </div>
            
            <div class="col-md-6">
                <h4>Food Menu</h4>
                <div id="menu"></div>
            </div>
        </div>
    </div>
    
    <script>
        const { jsPDF } = window.jspdf;

        const foodItems = [
            { name: "🍕 Pizza", price: 12 },
            { name: "🍔 Burger", price: 8 },
            { name: "🌭 Hot Dog", price: 6 },
            { name: "🍟 Fries", price: 5 },
            { name: "🥗 Salad", price: 7 },
            { name: "🍝 Pasta", price: 10 },
            { name: "🍩 Donut", price: 3 },
            { name: "🍚 Rice Bowl", price: 9 },
            { name: "🥪 Sandwich", price: 6 },
            { name: "🍛 Curry", price: 11 }
        ];
        
        const cart = {};

        function addToCart(itemName, itemPrice) {
            if (cart[itemName]) {
                cart[itemName].quantity++;
            } else {
                cart[itemName] = { price: itemPrice, quantity: 1 };
            }
            updateCart();
        }

        function removeFromCart(itemName) {
            if (cart[itemName]) {
                if (cart[itemName].quantity > 1) {
                    cart[itemName].quantity--;
                } else {
                    delete cart[itemName];
                }
            }
            updateCart();
        }

        function updateCart() {
            const cartDiv = document.getElementById("cart");
            cartDiv.innerHTML = "";
            let total = 0;

            Object.keys(cart).forEach(item => {
                const itemTotal = cart[item].price * cart[item].quantity;
                total += itemTotal;
                cartDiv.innerHTML += `
                    <div class='cart-item'>
                        <span>${item} x ${cart[item].quantity}</span>
                        <span>$${itemTotal}</span>
                        <button class='btn btn-sm btn-danger' onclick='removeFromCart("${item}")'>Remove</button>
                    </div>`;
            });

            document.getElementById("total").textContent = total;
        }

        function previewBill() {
            let billText = "Date & Time: " + new Date().toLocaleString() + "<br><br>";
            billText += "<b>Items Purchased:</b><br>";

            let total = 0;
            Object.keys(cart).forEach(item => {
                let itemTotal = cart[item].price * cart[item].quantity;
                total += itemTotal;
                billText += `${item} x ${cart[item].quantity} = $${itemTotal}<br>`;
            });

            billText += `<br><b>Total: $${total}</b>`;
            document.getElementById("billDetails").innerHTML = billText;
            document.getElementById("billPreview").style.display = "block";
        }

        function generatePDF() {
            let total = 0;
            const doc = new jsPDF();
            const dateTime = new Date().toLocaleString();

            doc.setFont("helvetica", "bold");
            doc.setFontSize(18);
            doc.text("Food Billing Invoice", 70, 15);
            doc.setFontSize(12);
            doc.text(`Date & Time: ${dateTime}`, 10, 25);
            doc.text("------------------------------------------------", 10, 30);

            let y = 40;
            doc.text("Item", 10, y);
            doc.text("Quantity", 80, y);
            doc.text("Price", 150, y);
            doc.text("------------------------------------------------", 10, y + 5);

            y += 15;

            Object.keys(cart).forEach(item => {
                let itemTotal = cart[item].price * cart[item].quantity;
                total += itemTotal;
                doc.text(item, 10, y);
                doc.text(cart[item].quantity.toString(), 90, y);
                doc.text(`$${itemTotal}`, 150, y);
                y += 10;
            });

            doc.text("------------------------------------------------", 10, y);
            y += 10;
            doc.text(`Total: $${total}`, 10, y);

            doc.save("Food_Bill.pdf");
        }

        function renderMenu() {
            const menuDiv = document.getElementById("menu");
            foodItems.forEach(item => {
                const foodDiv = document.createElement("div");
                foodDiv.classList.add("food-item");
                foodDiv.innerHTML = `
                    <span>${item.name}</span><span>$${item.price}</span> 
                    <button class='btn btn-sm btn-primary' onclick='addToCart("${item.name}", ${item.price})'>Add</button>`;
                menuDiv.appendChild(foodDiv);
            });
        }

        renderMenu();
    </script>
    
</body>
</html>



